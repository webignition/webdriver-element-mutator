language: php
php:
  - "7.2"

addons:
  chrome: stable

install:
  - composer install --prefer-dist

script:
  - composer cs
  # Workaround to prevent phpstan erroring: start
  - composer require --dev symfony/framework-bundle
  - composer static-analysis
  - composer remove --dev symfony/framework-bundle
  # Workaround to prevent phpstan erroring: end
  - composer test

cache:
  directories:
    - $HOME/.composer/cache/files
